<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Convite â€” Ceia de Natal</title>
  <meta name="description" content="Convite interativo para a Ceia de Natal: endereÃ§o no Maps + amigo secreto com sorteio por e-mail." />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <!-- SKY / INTRO -->
  <main id="intro" class="intro" aria-label="IntroduÃ§Ã£o">
    <div class="sky">
      <div class="stars"></div>
      <div class="glow"></div>
    </div>

    <div class="intro-center">
      <div class="title-wrap">
        <div class="kicker">Uma noite especial estÃ¡ chegandoâ€¦</div>
        <h1 class="headline">Ceia de Natal</h1>
        <p class="sub">Toque na estrela para abrir o convite</p>
      </div>

      <button id="starBtn" class="starBtn" aria-label="Abrir convite">
        <svg class="star" viewBox="0 0 200 200" role="img" aria-label="Estrela de Natal">
          <defs>
            <filter id="softGlow">
              <feGaussianBlur stdDeviation="6" result="blur"/>
              <feMerge>
                <feMergeNode in="blur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          <path filter="url(#softGlow)"
            d="M100 12 L122 74 L188 78 L136 118 L154 182 L100 146 L46 182 L64 118 L12 78 L78 74 Z"
            class="starPath"/>
        </svg>
        <span class="tapHint">Toque</span>
      </button>

      <div class="music-row">
        <button id="musicBtn" class="pill" type="button" aria-pressed="false">
          ğŸ”ˆ MÃºsica natalina
        </button>
        <span class="tiny">*A mÃºsica comeÃ§a apÃ³s seu toque (regra do celular).</span>
      </div>
    </div>
  </main>

  <!-- CONTENT -->
  <section id="content" class="content hidden" aria-label="ConteÃºdo do convite">
    <header class="hero">
      <div class="hero-inner">
        <div class="badge">ğŸ„ Noite de Natal</div>
        <h2 class="hero-title">VocÃª estÃ¡ convidado!</h2>

        <blockquote class="verse">
          â€œPorque um menino nos nasceu,<br/>
          um filho se nos deu.â€
          <footer>â€” IsaÃ­as 9:6</footer>
        </blockquote>

        <p class="hero-text">
          Ã‰ com alegria que convidamos vocÃª e sua famÃ­lia para nossa <strong>Ceia de Natal</strong>.
        </p>
      </div>
    </header>

    <div class="cards">
      <!-- MAP CARD -->
      <button id="mapCard" class="card card-click" type="button" aria-label="Abrir endereÃ§o no Google Maps">
        <div class="card-icon">ğŸ“</div>
        <div class="card-body">
          <div class="card-title">Local & horÃ¡rio</div>
          <div class="card-text">
            ğŸ•• <strong>24/12/2025 â€” a partir das 18h</strong><br/><br/>
            Rua Desembargador TÃºlio Bezerra de Melo, 3720<br/>
            CondomÃ­nio Corais do Alto da CandelÃ¡ria â€” Apto 602<br/>
            CEP 59064-585 â€” CandelÃ¡ria (Natal/RN)
          </div>
          <div class="card-cta">Abrir no Google Maps</div>
        </div>
      </button>

      <!-- SECRET SANTA CARD -->
      <div class="card">
        <div class="card-icon">ğŸ…</div>
        <div class="card-body">
          <div class="card-title">Amigo secreto</div>
          <div class="card-text">
            Cadastre-se atÃ© <strong>17/12/2025 Ã s 11:00</strong> (horÃ¡rio de Natal/RN).<br/>
            <small>(Pode ter mÃ£e/filho no mesmo e-mail â€” cadastre um por vez.)</small>
          </div>

          <div class="countdown" aria-label="Contador regressivo">
            <div class="timeBox"><div id="dd" class="num">--</div><div class="lbl">dias</div></div>
            <div class="timeBox"><div id="hh" class="num">--</div><div class="lbl">horas</div></div>
            <div class="timeBox"><div id="mm" class="num">--</div><div class="lbl">min</div></div>
            <div class="timeBox"><div id="ss" class="num">--</div><div class="lbl">seg</div></div>
          </div>

          <div id="closedMsg" class="closed hidden">
            ğŸ„ O prazo encerrou. O sorteio serÃ¡ realizado e os e-mails serÃ£o enviados em breve.
          </div>

          <form id="secretForm" class="form" autocomplete="on">
            <!-- honeypot anti-bot -->
            <input type="text" name="company" id="company" class="hp" tabindex="-1" autocomplete="off" />

            <label>
              Nome
              <input name="name" id="name" required minlength="2" placeholder="Nome da pessoa que vai participar" />
            </label>

            <label>
              E-mail (pode ser compartilhado)
              <input name="email" id="email" type="email" required placeholder="email@exemplo.com" />
            </label>

            <label>
              Dica de presente (opcional)
              <input name="hint" id="hint" maxlength="80" placeholder="Ex.: gosta de cafÃ© e chocolate" />
            </label>

            <button id="submitBtn" class="btn" type="submit">
              âœ… Cadastrar no amigo secreto
            </button>

            <div id="formMsg" class="msg" role="status" aria-live="polite"></div>
            <div class="tiny">Se a mesma pessoa recadastrar com o mesmo nome+e-mail, atualizamos os dados.</div>
          </form>
        </div>
      </div>
    </div>

    <footer id="footer" class="footer">
      <div>âœ¨ Que esta noite seja cheia de luz, paz e alegria.</div>
      <div class="tiny">Dica: toque 5x aqui rapidamente para abrir o painel.</div>
    </footer>
  </section>

  <!-- ADMIN PANEL (hidden) -->
  <div id="adminOverlay" class="adminOverlay hidden" role="dialog" aria-modal="true" aria-label="Painel Admin">
    <div class="adminCard">
      <div class="adminHeader">
        <div class="adminTitle">ğŸ›ï¸ Painel Admin</div>
        <button id="adminClose" class="adminClose" aria-label="Fechar">âœ•</button>
      </div>

      <div class="adminBody">
        <label class="adminLabel">
          Token (ADMIN_TOKEN)
          <input id="adminToken" class="adminInput" placeholder="Cole aqui o token do admin" />
        </label>

        <div class="adminActions">
          <button id="adminRefresh" class="adminBtn" type="button">ğŸ”„ Atualizar status</button>
          <button id="adminDryRun" class="adminBtn" type="button">ğŸ§ª Simular sorteio (sem e-mail)</button>
          <button id="adminRunDraw" class="adminBtn adminBtnGold" type="button">ğŸ“§ Rodar sorteio (ENVIAR e-mails)</button>
          <button id="adminReset" class="adminBtn adminBtnDanger" type="button">ğŸ§¹ Zerar cadastro</button>
        </div>

        <pre id="adminOutput" class="adminOutput">Toque 5x no rodapÃ© para abrir este painel.
Depois cole o ADMIN_TOKEN e use os botÃµes acima.</pre>

        <div class="tiny">
          â€¢ â€œSimularâ€ nÃ£o envia e-mails.<br/>
          â€¢ â€œRodar sorteioâ€ envia e-mails via SendGrid (use sÃ³ em testes controlados).
        </div>
      </div>
    </div>
  </div>

  <script src="./app.js"></script>
  <!-- BotÃ£o Admin -->
  <button id="adminBtn" class="admin-btn">
    ğŸ” Painel Admin
  </button>
</body>
</html>

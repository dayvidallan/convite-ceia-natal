<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Convite â€” Ceia de Natal</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <!-- CÃ©u (fundo) -->
  <canvas id="sky" aria-hidden="true"></canvas>

  <!-- BotÃ£o admin discreto (nÃ£o Ã© para convidados) -->
  <button id="adminBtn" class="admin-btn" type="button" title="Painel Admin">admin</button>

  <main class="wrap">
    <section class="hero card">
      <div class="pill">ğŸ„ Noite de Natal</div>
      <h1>VocÃª estÃ¡ convidado!</h1>

      <blockquote class="verse">
        â€œâ¶ Porque um menino nos nasceu, um filho se nos deu, e o principado estarÃ¡ sobre os seus ombros, e se chamarÃ¡ o seu nome: Maravilhoso, Conselheiro, Deus Forte, Pai da Eternidade, PrÃ­ncipe da Paz.â€
        <span>â€” IsaÃ­as 9:6</span>
      </blockquote>

      <p class="subtitle">
        Ã‰ com alegria que convidamos vocÃª e sua famÃ­lia para nossa <strong>Ceia de Natal</strong>.
      </p>
    </section>

    <section class="grid">
      <article class="card">
        <div class="card-title">
          <span class="icon">ğŸ“</span>
          <div>
            <h2>Local & horÃ¡rio</h2>
            <p class="muted">24/12/2025 â€” a partir das 18h</p>
          </div>
        </div>

        <div class="addr">
          Rua Desembargador TÃºlio Bezerra de Melo, 3720<br/>
          CondomÃ­nio Corais do Alto da CandelÃ¡ria â€” Apto 602<br/>
          CEP 59064-585 â€” CandelÃ¡ria (Natal/RN)
        </div>

        <a class="link" target="_blank" rel="noopener"
           href="https://www.google.com/maps/search/?api=1&query=Rua%20Desembargador%20T%C3%BAlio%20Bezerra%20de%20Melo%2C%203720%20Natal%20RN">
          Abrir no Google Maps
        </a>
      </article>

      <article id="amigo" class="card">
        <div class="card-title">
          <span class="icon">ğŸ</span>
          <div>
            <h2>Amigo secreto</h2>
            <p class="muted">
              Cadastre-se atÃ© <strong>17/12/2025 Ã s 11:00</strong> (horÃ¡rio de Natal/RN).
              <br/>
              <small>(Pode ter mÃ£e/filho no mesmo e-mail â€” cadastre um por vez.)</small>
            </p>
          </div>
        </div>

        <div class="countdown" id="countdown" aria-live="polite">
          <div class="cd"><b id="d">--</b><span>dias</span></div>
          <div class="cd"><b id="h">--</b><span>horas</span></div>
          <div class="cd"><b id="m">--</b><span>min</span></div>
          <div class="cd"><b id="s">--</b><span>seg</span></div>
        </div>

        <form id="form" class="form" autocomplete="on">
          <label>
            Nome
            <input id="name" required placeholder="Nome da pessoa que vai participar" />
          </label>

          <label>
            E-mail (pode ser compartilhado)
            <input id="email" type="email" required placeholder="email@exemplo.com" />
          </label>

          <label>
            Dica de presente (opcional)
            <input id="hint" placeholder="Ex.: gosta de cafÃ© e chocolate" />
          </label>

          <button id="submit" type="submit">âœ… Cadastrar no amigo secreto</button>
          <p id="msg" class="msg" role="status"></p>

          <p class="tiny">
            Se a mesma pessoa recadastrar com o mesmo nome+e-mail, atualizamos os dados.
          </p>
        </form>
      </article>
    </section>

    <footer class="footer">
      âœ¨ Que esta noite seja cheia de luz, paz e alegria.
      <div class="tiny">Dica (admin): use o botÃ£o â€œadminâ€ no topo esquerdo.</div>
    </footer>
  </main>

  <!-- Modal Admin -->
  <dialog id="adminModal" class="modal">
    <div class="modal-head">
      <h3>ğŸ”’ Painel Admin</h3>
      <button id="closeAdmin" class="x" type="button">âœ•</button>
    </div>

    <div class="modal-body">
      <label class="stack">
        Token admin
        <input id="adminToken" type="password" placeholder="Cole o ADMIN_TOKEN aqui" />
        <small class="muted">Esse token Ã© o mesmo que vocÃª colocou no Netlify como variÃ¡vel ADMIN_TOKEN.</small>
      </label>

      <div class="actions">
        <button id="btnStatus" type="button">ğŸ“Š Status</button>
        <button id="btnSimular" type="button">ğŸ§ª Simular sorteio</button>
        <button id="btnEnviar" type="button">ğŸ“§ Sortear e enviar e-mails</button>
        <button id="btnReset" type="button" class="danger">ğŸ§¹ Zerar cadastros (TESTES)</button>
      </div>

      <pre id="adminOut" class="out"></pre>
      <p class="tiny muted">
        ObservaÃ§Ã£o: â€œZerar cadastrosâ€ apaga os participantes salvos (ideal para limpar apÃ³s testes).
      </p>
    </div>
  </dialog>

  <script src="./app.js"></script>
</body>
</html>
